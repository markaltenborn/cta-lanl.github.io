<!--
	Author: W3layouts
	Author URL: http://w3layouts.com
	License: Creative Commons Attribution 3.0 Unported
	License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE html>
<html>
<!-- Head -->
<head>
	<title>Center for Theoretical Astrophysics, Los Alamos National Laboratory</title>
	<!-- Meta-Tags -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="keywords" content="Computational Astrophysics Los Alamos LANL CTA State-of-the-art High-resolution multi-physics multi-scale simulation modeling">
	<script type="application/x-javascript"> addEventListener("load", function() { 
            setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } 
    </script>
	<!-- //Meta-Tags -->
	<!-- Custom-Theme-Files -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" href="css/style.css" 			type="text/css" media="all"> <!-- Page-Styling -->
	<link rel="stylesheet" href="css/design-system.css"		type="text/css" media="all"> <!-- Design System -->
	<link rel="stylesheet" href="css/cards.css"				type="text/css" media="all">
	<link rel="stylesheet" href="css/staff.css"				type="text/css" media="all"> <!-- People-Styling -->
	<link rel="stylesheet" href="css/postdoc.css"			type="text/css" media="all"> <!-- Postdoc-Styling -->
	<link rel="stylesheet" href="css/student.css"			type="text/css" media="all"> <!-- Student-Styling -->
	<link rel="stylesheet" href="css/chocolat.css"			type="text/css" media="all"> <!-- Gallery-Popup-CSS -->
	<!-- //Custom-Theme-Files -->
	<!-- Web-Fonts -->
	<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800" 	type="text/css">
	<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700" 				type="text/css">
	<!-- //Web-Fonts -->
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
</head>
<!-- //Head -->

<!-- Body -->
<body>
	<!-- Header -->
	<div class="header" id="home">
		<!-- Top-Bar -->
		<div class="top-bar">
			<div class="container">
				<!-- Logo -->
				<div class="logo">
					<p><a href="#">Center for Theoretical<br />Astrophysics</a></p>
                    <br>
                    <p class="subtitle"><a href="https://www.lanl.gov/">Los Alamos National Laboratory</a></p>
				</div>
				<!-- //Logo -->
				<div class="info">
					<!-- Email -->
					<div class="email">
						<p><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span><a href="mailto:CTA_recruitment@lanl.gov">CTA_recruitment@lanl.gov</a></p>
					</div>
					<!-- //Email -->
				</div>
			</div>
		</div>
		<!-- //Top-Bar -->

		<!-- Slider -->
		<div class="slider">
			<div class="callbacks_container">
				<ul class="rslides" id="slider">
					<li>
						<div class="slider-img">
							<img src="images/sgra50.png" class="img-responsive" alt="Black Hole Accetion">
						</div>
						<div class="slider-info">
							<h3>BLACK HOLE ACCRETION</h3>
							<div class="underline"></div>
							<p>General relativistic radiation magnetohydrodynamics.</p>
						</div>
					</li>
					<li>
						<div class="slider-img">
							<img src="images/type1aflame.jpg" class="img-responsive" alt="Type Ia Supernovae">
						</div>
						<div class="slider-info">
							<h3>TYPE IA SUPERNOVAE</h3>
							<div class="underline"></div>
							<p>High resolution models of turbulent flames.</p>
						</div>
					</li>
					<li>
						<div class="slider-img">
							<img src="images/Oshell.jpg" class="img-responsive" alt="Stellar Astrophysics">
						</div>
						<div class="slider-info">
							<h3>STELLAR ASTROPHYSICS</h3>
							<div class="underline"></div>
							<p>Turbulence in massive stars.</p>
						</div>
					</li>
					<li>
						<div class="slider-img">
							<img src="images/ccsn.jpg" class="img-responsive" alt="Core-Collapse Supernovae">
						</div>
						<div class="slider-info">
							<h3>CORE-COLLAPSE SUPERNOVAE</h3>
							<div class="underline"></div>
							<p>State-of-the-art neutrino radiation hydrodynamics.</p>
						</div>
					</li>
					<li>
						<div class="slider-img">
							<img src="images/cosmology.jpg" class="img-responsive" alt="cosmology">
						</div>
						<div class="slider-info">
							<h3>COSMOLOGY</h3>
							<div class="underline"></div>
							<p>Large-scale structure, star formation, and supermassive black hole growth.</p>
						</div>
					</li>
					<li>
						<div class="slider-img">
							<img src="images/wd_merge.png" class="img-responsive" alt="Compact Object Mergers">
						</div>
						<div class="slider-info">
							<h3>COMPACT OBJECT MERGERS</h3>
							<div class="underline"></div>
							<p>SPH simulations of binary mergers.</p>
						</div>
					</li>
					<li>
						<div class="slider-img">
							<img src="images/plasma.png" class="img-responsive" alt="Plasma Astrophysics">
						</div>
						<div class="slider-info">
							<h3>PLASMA ASTROPHYSICS</h3>
							<div class="underline"></div>
							<p>Particle-in-cell simulations of reconnection.</p>
						</div>
					</li>
				</ul>
			</div>
		</div>
		<!-- //Slider -->
	</div>
	<!-- //Header -->

	<!-- Navbar -->
	<nav class="navbar navbar-default">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
			</div>
			<!-- Navbar-Collapse -->
			<div class="collapse navbar-collapse nav-wil" id="bs-example-navbar-collapse-1">
				<nav class="menu menu--francisco">
					<ul class="nav navbar-nav menu__list">
						<li class="menu__item__six"><a href="#projects" class="menu__link"><span class="menu__helper">RESEARCH</span></a></li>
						<li class="menu__item__six"><a href="#outreach" class="menu__link"><span class="menu__helper">OUTREACH</span></a></li>
						<li class="menu__item__six"><a href="#jobs" class="menu__link"><span class="menu__helper">OPPORTUNITIES</span></a></li>
						<li class="menu__item__six"><a href="#team" class="menu__link"><span class="menu__helper">PEOPLE</span></a></li>
						<li class="menu__item__six"><a href="#contact" class="menu__link"><span class="menu__helper">CONTACT</span></a></li>
						<li class="menu__item__six"><a href="events/schedule.html" class="menu__link"><span class="menu__helper">EVENTS</span></a></li>
					</ul>
				</nav>
			</div>
			<!-- //Navbar-Collapse -->
		</div>
	</nav>
	<!-- //Navbar -->

	<!-- About -->
	<div class="about" id="about">
		<div class="container">
			<h1>ABOUT</h1>
			<p>The Center for Theoretical Astrophysics brings together scientists from across Los Alamos National Laboratory to study a wide variety of topics at the forefront of astrophysical research. We are committed to building and maintaining a supportive experience for all who participate, as reflected in our <a href="values/cta-statement-of-values.html">Statement of Values</a>.</p>
			<div class="underline1"></div>
			<div class="about-grids" style="background: url('images/lanl1.jpg') no-repeat; background-position:100% 0%;background-size: 50%">
				<div class="col-md-6 col-sm-6 about-grid about-info">
					<h3>SUMMARY</h3>
					<p class="about-p-1">
                        Scientists within the Center for Theoretical Astrophysics collaborate internally and externally on a broad range of topics.  Our diverse expertise and the collaborative environment we maintain allow us to tackle the most challenging problems at the forefront of theoretical and computational astrophysics.
                    </p>
                    <p class="about-p-1">
                        With more than 50 active astrophysicists, Los Alamos National Laboratory is an exciting place to carry out astrophysical research.  Though these scientists are spread broadly among organizations at LANL, the CTA establishes a community within which we organize and share projects.  Members of the CTA also extensively collaborate with other laboratory institutions including: <a href="https://www.lanl.gov/projects/national-security-education-center/space-earth-center/index.php">The Center for Space and Earth Science</a>, <a href="https://cnls.lanl.gov/External/">The Center for Nonlinear Studies</a>, and <a href="https://www.lanl.gov/projects/national-security-education-center/information-science-technology/">The Information Science and Technology Institute</a>.
                    </p>
                    <p class="about-p-1">
                        Los Alamos National Laboratory is located in beautiful Northern New Mexico about a 40 minute drive northwest of Santa Fe.  The area has outstanding opportunities for the outdoor enthusiast.
                    </p>


					<!-- Explore-Button -->
					<!-- <a class="scroll" href="#portfolio">EXPLORE</a> -->
					<!-- //Explore-Button -->

				</div>
				<div class="clearfix"></div>
			</div>
			
		</div>
	</div>
	<!-- //About -->

    <!-- Projects -->
	<div class="about" id="projects">
		<div class="container">

			<h1>RESEARCH</h1>
			<p>CTA scientists are engaged in a wide variety of projects.  Some of these topics are listed below with links to more information.</p>
			<h4><a href="https://ui.adsabs.harvard.edu/#/public-libraries/X_2en3tqRqa_sJXo-FL30w">Publications</h4></a>
			<div class="underline1"></div>

            <div class="projlist">
            <ul>
                <li class="projtitle">Active Galactic Nuclei</li>
                <li>Evolution of massive black holes, studying both radiation and magneto-hydrodynamic effects</li>
                <li class="projtitle">Computational Astrophysics</li>
                <li>We develop and apply state-of-the-art methods and codes to tackle some of the most complex problems in astrophysics</li>
                <li class="projtitle">Cosmic rays</li>
                <li>Generation and propagation of cosmic rays from gamma-ray bursts and supernovae. Ties to a number of missions (e.g., HAWC, NuSTAR)</li>
                <li class="projtitle">Cosmology and the first stars</li>
                <li>Cosmology calculations using a broad range of tools (e.g., ENZO and Gadget), focused on studying the formation of the first stars and black holes</li>
                <li class="projtitle">Engines behind transients</li>
                <li>Thermonuclear and core-collapse supernovae, gamma-ray burst, and x-ray burst engines </li>
                <li class="projtitle"><a href="transient/transients_astro.html"> Emission for transients </a> </li>
                <li>Modeling spectra and light-curves, radiation-hydrodynamics effects, atomic physics.  </li>
                <li class="projtitle">Experimental astrophysics</li>
                <li>Many of the fields leverage laboratory experiments in plasma physics, turbulence, radiation transport, nuclear, and atomic physics</li>
                <li class="projtitle">Nuclear astrophysics</li>
                <li>Understanding the behavior of matter and nuclear densities and applying these effects (neutrinos, equations of state) to supernova models</li>
                <li class="projtitle"><a href="nucleosynthesis/nucleosynthesis_astro.html"> Nucleosynthesis </a> </li>
                <li>Yields from stars and supernovae, nuclear cross-sections (tying to experiment), galactic chemical evolution</li>
                <li class="projtitle">Star and planet formation</li>
                <li>Formation of the solar system, extra-solar planets</li>
                <li class="projtitle">Stellar Astrophysics</li>
                <li>Structure, evolution, nucleosynthesis and hydrodynamics of stars</li>
                <li class="projtitle">Supernova remnants</li>
                <li>Following the engine through the remnant phase, effects of NLTE opacities, and magneto-hydrodynamics</li>
            </ul>
            </div>
		    <div class="clearfix"></div>
        </div>
    </div>


    <!-- //Outreach -->
	<div class="portfolio" id="outreach">
		<div class="container">
    		<h1>OUTREACH</h1>
			<div class="underline1"></div>
            <div class="projlist">
            	<ul>
            	    <li class="projtitle">Outreach efforts
					</li>
					<li>
            	        Members of the CTA are extremely active in outreach, both locally and in surrounding communities.
						Check out our <a href="/outreach/outreach_astroUPDATED.html">Outreach Page</a> for more info.
					</li>
            	</ul>
            </div>
		    <div class="clearfix"></div>
        </div>
    </div>

    <!-- Opportunities -->
	<div class="portfolio" id="jobs">
	  <div class="container">
	
	    <h1>OPPORTUNITIES</h1>
	    <p>
	      CTA offers opportunities for current LANL staff and students, as well as for those
	      interested in joining Los Alamos National Laboratory.
	    </p>
	
	    <div class="underline1"></div>
	
	    <!-- Current LANL staff & students -->
	    <div class="projlist">
	      	<ul>
	        	<li>
					Current LANL staff and students are welcome to join us at our weekly CTA meetings. 
					The meetings take place at 9am most Fridays in the CNLS Conference Room (03-1690-102).
					Check our upcoming events on our <a href="/events/schedule.html">Schedule and Events Page</a>, and 
					to join our mail list and Teams group, please contact one of the meeting organizers:
	          		<span class="cta-organizers">
					    <a href="mailto:alexander.kaltenborn@lanl.gov"
					    	title="Email Alexander Kaltenborn">
					    	Alexander Kaltenborn
					    </a>,
					    <a href="mailto:makana.silva@lanl.gov"
					    	title="Email Makana Silva">
					    	Makana Silva
					    </a>, or
					    <a href="mailto:wes.even@lanl.gov"
					    	title="Email Wes Even">
					    	Wes Even
					    </a>.
					</span>
	        	</li>
	      	</ul>

            <ul>
                <li class="projtitle">CTA Postdoc</li>
                <li>The CTA accepts applications for postdoctoral positions year round.  We seek candidates with interests and experience in computational physics/astrophysics, broadly defined, 
					who will excel at carrying out research independently and in collaboration with members of the CTA. 
					<a href='https://jobszp1.lanl.gov/OA_HTML/RF.jsp?function_id=14330&resp_id=51616&resp_appl_id=800&security_group_id=0%3C_code%3DUS&params=btOoWGkj963I..Q2L5dcEkwPdY2X8RgGyIGQIgmPvx1ATLhV1EKKfMP8X3LGjq5S&oas=LEh_BAM3qoSLDf-lxE5pKg'> APPLY </a></li>
                <li class="projtitle"><a href="https://www.lanl.gov/engage/collaboration/postdoctoral-research/becoming-a-postdoc">LANL Postdoctoral Fellowship Programs</a></li>
                <li> The laboratory sponsors a number of laboratory wide fellowships and subject specific fellowships to which postdoctoral candidates may apply.</li>
                <li class="projtitle"><a href="https://www.lanl.gov/engage/collaboration/internships/summer-schools">LANL Summer Schools</a></li>
                <li> The laboratory sponsors a multiple summer schools on varoius topics related to computational physics and astronomy.  </li>
				<li class="projtitle">CTA Research Students</li>
				<li> The CTA sponsors student researchers to visit LANL at all levels: high school, undergraduate, post-baccalaureate, graduate, and post-masters.  
				The vast majority of students are at LANL during the summer and the CTA typically supports 20-30 students during the summer.  Additionally there are also opportunities for 
				longer-term appointments, up to 2 years, in the CTA for post-baccalaureate, post-masters, and graduate students.  The ideal time to apply for a summer appointment is November 
				or December. To view profiles of our current students click <a href="students/students.html">here</a>. </li>

            </ul>
        </div>
	    <div class="underline1"></div>
	
	    <!-- Additional resources -->
	    <h3>Additional LANL resources</h3>
	    <p>
	        <a href="https://www.lanl.gov/careers/benefits">Benefits</a>,
	        <a href="https://www.lanl.gov/engage/collaboration/student-programs">
	          Student Programs
	        </a>,
	        <a href="https://www.lanl.gov/engage/collaboration/student-programs/student-info">
	          Student Employment Information
	        </a>
	    </p>
	
	    <div class="clearfix"></div>
	  </div>
	</div>
	<!-- //Opportunities -->

	<!-- Team -->
	<div class="team" id="team">
	  <div class="container">
	    <h1>PEOPLE</h1>
	    <p>
	    	CTA brings together staff scientists, postdoctoral researchers, and students working on
	    	theoretical and computational astrophysics across Los Alamos National Laboratory.
	    </p>
	    <div class="underline1"></div>
	    <!-- Staff Spotlight -->
		<div id="#cta-members-home" class="cta-section">
	    	<h2>STAFF SPOTLIGHT</h2>
	    	<p>
	    		Staff members make of up the bulk of CTA, providing expertise and guidance on research topics.
				Explore the full roster and leadership on the <a href="/staff/people.html">CTA Members page</a>.
	    	</p>
	    	<div class="staff-card-grid" id="staff-members-grid"></div>
		</div>
	    <!-- //Staff Spotlight -->

	    <!-- Postdoc Spotlight -->
	    <div id="cta-postdocs-home" class="cta-section">
	    	<h2>POSTDOC SPOTLIGHT</h2>
	    	<p>
	    		Postdoctoral researchers play a central role in CTA's research, leading and collaborating on
	    		projects across a wide range of astrophysical topics. See all current and former postdocs on 
				the <a href="/postdocs/postdocs.html">CTA Postdocs page</a>.
	    	</p>
	    	<div class="postdoc-card-grid" id="home-postdocs-grid"></div>
	    </div>
	    <!-- //Postdoc Spotlight -->

	    <!-- Student Spotlight -->
	    <div id="cta-students" class="cta-section">
	    	<h2>STUDENT SPOTLIGHT</h2>
	    	<p>
	    		CTA hosts high-school, undergraduate, and graduate students through Los Alamos National
	    		Laboratory's student programs. Each year, students join us to work on research projects in
	    		theoretical and computational astrophysics. See more about student participation and 
				profiles on the <a href="/students/students.html">CTA Students page</a>.
	    	</p>
	    	<div class="student-card-grid" id="home-students-grid"></div>
	    </div>
	    <!-- //Student Spotlight -->

	    <!-- Consolidated link block -->
	    <div class="cta-links people-links">
	      <p><strong>More about CTA people:</strong></p>
	      <ul>
	        <li>
	          Full staff listing and leadership on the
	          <a href="/staff/people.html">CTA Members page</a>.
	        </li>
			<li>
	          Emeritus members on the 
	          <a href="/emeritus/emeritus.html">CTA Emeritus page</a>.
	        </li>
	        <li>
	          Current and former postdocs on the
	          <a href="/postdocs/postdocs.html">CTA Postdocs page</a>.
	        </li>
	        <li>
	          Current and former students on the
	          <a href="/students/students.html">CTA Students page</a>.
	        </li>
	      </ul>
	    </div>
	    <!-- //Consolidated link block -->
	  </div>
	</div>
	<!-- //Team -->
	<!-- Contact -->
	<div id="cta-contact"></div>
	<!-- //Contact -->
	<!-- Footer -->
	<div id="cta-footer"></div>
	<!-- //Footer -->

	<!-- Custom-JavaScript-File-Links -->
	<!-- Necessary-JavaScript-File-For-Bootstrap <script type="text/javascript" src="js/bootstrap.min.js"></script>-->
    <!-- Latest compiled JavaScript -->
    <!--<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<!-- Slider-JavaScript -->
	<script src="js/responsiveslides.min.js"></script>
	<script>
		$(function () {
			$("#slider").responsiveSlides({
				auto: true,
				pager: true,
				nav: true,
				speed: 1000,
				namespace: "callbacks",
				before: function () {
					$('.events').append("<li>before event fired.</li>");
				},
				after: function () {
					$('.events').append("<li>after event fired.</li>");
				}
			});
		});
	</script>
	<!-- //Slider-JavaScript -->
	<!-- Gallery-Tab-JavaScript -->
	<script src="js/cbpFWTabs.js"></script>
	<script>
		(function() {
			[].slice.call( document.querySelectorAll( '.tabs' ) ).forEach( function( el ) {
				new CBPFWTabs( el );
			});
		})();
	</script>
	<!-- //Gallery-Tab-JavaScript -->
	<!-- Popup-Box-JavaScript -->
	<script src="js/modernizr.custom.97074.js"></script>
	<script src="js/jquery.chocolat.js"></script>
	<script type="text/javascript">
		$(function() {
			$('.gallery-item a').Chocolat();
		});
	</script>
	<!-- //Popup-Box-JavaScript -->
	<!-- Slide-To-Top JavaScript (No-Need-To-Change) -->
	<script type="text/javascript">
		$(document).ready(function() {
			var defaults = {
				containerID: 'toTop', // fading element id
				containerHoverID: 'toTopHover', // fading element hover id
				scrollSpeed: 100,
				easingType: 'linear'
			};
			$().UItoTop({ easingType: 'easeOutQuart' });
		});
	</script>
	<a href="#" id="toTop" style="display: block;"> <span id="toTopHover" style="opacity: 0;"> </span></a>
	<!-- //Slide-To-Top JavaScript -->
	<!-- Smooth-Scrolling-JavaScript -->
	<script type="text/javascript" src="js/move-top.js"></script>
	<script type="text/javascript" src="js/easing.js"></script>
	<script type="text/javascript">
			jQuery(document).ready(function($) {
				$(".scroll, .navbar li a, .footer li a").click(function(event){
					$('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
				});
			});
	</script>
	<!-- //Smooth-Scrolling-JavaScript -->
	<!-- FlexSlider-JavaScript -->
	<script defer src="js/jquery.flexslider.js"></script>
	<script type="text/javascript">
		$(function(){
			SyntaxHighlighter.all();
		});
		$(window).load(function(){
			$('.flexslider').flexslider({
				animation: "slide",
				start: function(slider){
					$('body').removeClass('loading');
				}
			});
		});
	</script>
	<!-- //FlexSlider-JavaScript -->
	<!-- //Custom-JavaScript-File-Links -->
	<script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
	<script>
	(function () {
	    const DATA_BASE    = '/data';
	    const DEFAULT_IMG  = '/staff/images/cta-default.jpg';
	    const IMG_ROSTER   = '/staff/images/roster';
	    const IMG_ROOT     = '/staff/images';

	    function el(tag, attrs = {}, children = []) {
	        const n = document.createElement(tag);
	        Object.entries(attrs).forEach(([k, v]) => {
	            if (v != null) n.setAttribute(k, v);
	        });
	        (Array.isArray(children) ? children : [children]).forEach(c => {
	            if (c == null) return;
	            n.appendChild(typeof c === 'string' ? document.createTextNode(c) : c);
	        });
	        return n;
	    }

	    async function fetchYAML(path) {
	        const res = await fetch(path, { cache: 'no-store' });
	        const txt = await res.text();
	        return jsyaml.load(txt) || [];
	    }

	    function imageCandidates(slug, person) {
	        const exts = ['.jpg', '.png', '.jpeg'];
	        const out = [];
	        if (person && person.photo) out.push(person.photo);              // explicit override
	        for (const ext of exts) out.push(`${IMG_ROSTER}/${slug}${ext}`); // roster folder
	        for (const ext of exts) out.push(`${IMG_ROOT}/${slug}${ext}`);   // flat folder
	        out.push(DEFAULT_IMG);
	        return Array.from(new Set(out.filter(Boolean)));
	    }

	    function firstReachable(urls) {
	        return new Promise(resolve => {
	            let i = 0, img = new Image();
	            const next = () => {
	                if (i >= urls.length) return resolve(DEFAULT_IMG);
	                const u = urls[i++];
	                img.onload = () => resolve(u);
	                img.onerror = next;
	                img.src = u;
	            };
	            next();
	        });
	    }

	    function normalizeLeadership(str) {
	        if (!str) return '';
	        return String(str).trim().toLowerCase();
	    }

	    function sortKey(person) {
	        return (person.sort_key || person.display_name || person.name || person.slug || '')
	            .toLowerCase();
	    }

	    function buildSocialList(person) {
	        const items = [];
	        if (person.lanl) {
	            items.push(
	                el('li', {}, el('a', {
	                    href: person.lanl,
	                    class: 'lanl',
	                    title: 'LANL Profile Page',
	                    target: '_blank',
	                    rel: 'noopener'
	                }))
	            );
	        }
	        if (person.ads) {
	            items.push(
	                el('li', {}, el('a', {
	                    href: person.ads,
	                    class: 'ads',
	                    title: 'ADS Publication List',
	                    target: '_blank',
	                    rel: 'noopener'
	                }))
	            );
	        }
	        if (person.scholar) {
	            items.push(
	                el('li', {}, el('a', {
	                    href: person.scholar,
	                    class: 'gscholar',
	                    title: 'Google Scholar Profile',
	                    target: '_blank',
	                    rel: 'noopener'
	                }))
	            );
	        }
	        if (!items.length) return null;
	        return el('ul', { class: 'social' }, items);
	    }

	    function formatName(raw) {
	        if (!raw) return '';
	        const trimmed = String(raw).trim();
	        if (trimmed === trimmed.toUpperCase()) {
	            return trimmed.toLowerCase().replace(/\b\w/g, c => c.toUpperCase());
	        }
	        return trimmed;
	    }

	    function staffCard(person) {
	        const slug = person.slug;
	        const rawName = person.display_name || person.name || slug;
	        const name = formatName(rawName);
	        const imgUrls = imageCandidates(slug, person);

	        const leadershipText = person.leadership && String(person.leadership).trim()
	            ? person.leadership
	            : '';
	        const roleText = person.role && String(person.role).trim()
	            ? person.role
	            : '';
	        const divisionText = person.division && String(person.division).trim()
	            ? person.division
	            : '';

	        let interestsText = '';
	        if (Array.isArray(person.interests) && person.interests.length) {
	            interestsText = person.interests
	                .map(s => String(s).trim())
	                .filter(Boolean)
	                .join(', ');
	        } else if (person.focus && String(person.focus).trim()) {
	            interestsText = String(person.focus).trim();
	        }

	        let emailNode = null;
	        if (person.email) {
	            emailNode = el('p', { class: 'staff-email' }, [
	                el('a', { href: `mailto:${person.email}` }, [
	                    el('span', {
	                        class: 'glyphicon glyphicon-envelope',
	                        'aria-hidden': 'true'
	                    }),
	                    '\u00A0',
	                    person.email
	                ])
	            ]);
	        }

	        const href = '/staff/profile.html?slug=' + encodeURIComponent(slug);

	        const card = el('div', { class: 'staff-card-wrap' }, [
	            el('a', { class: 'staff-card', href }, [
	                el('div', { class: 'staff-photo-wrap view view-seventh' }, [
	                    el('img', {
	                        class: 'staff-photo',
	                        src: DEFAULT_IMG,
	                        alt: name,
	                        loading: 'lazy'
	                    }),
	                    el('div', { class: 'mask' }, buildSocialList(person))
	                ]),
	                el('div', { class: 'staff-meta' }, [
	                    el('h4', {}, name),
	                    leadershipText ? el('div', { class: 'staff-leadership' }, leadershipText) : null,
	                    roleText       ? el('div', { class: 'staff-role' }, roleText)             : null,
	                    divisionText   ? el('div', { class: 'staff-division' }, divisionText)     : null,
	                    interestsText  ? el('p', { class: 'staff-interests' }, interestsText)     : null,
	                    emailNode
	                ])
	            ])
	        ]);

	        const imgEl = card.querySelector('img.staff-photo');
	        firstReachable(imgUrls).then(u => { imgEl.src = u; });
	        return card;
	    }

	    async function main() {
	        const membersGrid = document.getElementById('staff-members-grid');
	        if (!membersGrid) return;

	        const roster = await fetchYAML(`${DATA_BASE}/staff/staff_roster.yml`);
	        const people = Array.isArray(roster) ? roster : [];
	        if (!people.length) return;

	        // Ignore leadership on the homepage – just use all staff as pool
	        const members = people.filter(p => !normalizeLeadership(p.leadership));
	        members.sort((a, b) => sortKey(a).localeCompare(sortKey(b)));

	        // Spotlight: one row – typically 4 cards on desktop (adjust if your grid uses 3/5 columns)
	        const MAX_HOME_MEMBERS = 4;

	        const shuffledMembers = members.slice();
	        for (let i = shuffledMembers.length - 1; i > 0; i--) {
	            const j = Math.floor(Math.random() * (i + 1));
	            [shuffledMembers[i], shuffledMembers[j]] = [shuffledMembers[j], shuffledMembers[i]];
	        }

	        shuffledMembers
	            .slice(0, MAX_HOME_MEMBERS)
	            .forEach(p => membersGrid.appendChild(staffCard(p)));
	    }

	    main().catch(err => console.error('Staff render error:', err));
	})();
	</script>
	<script>
	(function () {
	    const DATA_BASE    = '/data';
	    const DEFAULT_IMG  = '/postdocs/images/cta-default.jpg';
	    const IMG_ROSTER   = '/postdocs/images/roster';
	    const IMG_YEARS    = '/postdocs/images';
	    function qs(sel){
	        return document.querySelector(sel);
	    }
	    function el(tag, attrs={}, children=[]) {
	        const n = document.createElement(tag);
	        Object.entries(attrs).forEach(([k,v]) => v!=null && n.setAttribute(k, v));
	        (Array.isArray(children)?children:[children]).forEach(c=>{
	            if(c==null) return;
	            n.appendChild(typeof c==='string'?document.createTextNode(c):c);
	        });
	        return n;
	    }
	    async function fetchYAML(path){
	        const res = await fetch(path, {cache:'no-store'});
	        const txt = await res.text();
	        return jsyaml.load(txt) || {};
	    }
	    // Name formatting, same idea as index staffCard
	    function formatName(raw) {
	        if (!raw) return '';
	        const trimmed = String(raw).trim();
	        // If the name is ALL CAPS, convert to Title Case
	        if (trimmed === trimmed.toUpperCase()) {
	            return trimmed
	                .toLowerCase()
	                .replace(/\b\w/g, c => c.toUpperCase());
	        }
	        return trimmed;
	    }
	    /** Build ordered candidate image URLs and pick the first that loads. */
	    function imageCandidates(slug, person, stint, yearsDesc){
	        const exts = ['.jpg','.png','.jpeg'];
	        const out = [];
	        // An explicit per-year override if present
	        if (stint && stint.card_image) out.push(stint.card_image);
	        if (stint && stint.photo_override) out.push(stint.photo_override);
	        // Canonical roster folder
	        for (const ext of exts) out.push(`${IMG_ROSTER}/${slug}${ext}`);
	        // Roster-provided path for compatibility
	        if (person && person.photo) out.push(person.photo);
	        // Legacy flat location
	        for (const ext of exts) out.push(`/postdocs/images/${slug}${ext}`);
	        // Year folders, newest to oldest
	        for (const y of yearsDesc) for (const ext of exts)
	            out.push(`${IMG_YEARS}/${y}-images/${slug}${ext}`);
	        // Final default
	        out.push(DEFAULT_IMG);
	        return Array.from(new Set(out.filter(Boolean)));
	    }
	    function firstReachable(urls){
	        return new Promise(resolve=>{
	            let i = 0, img = new Image();
	            const next = () => {
	                if (i >= urls.length) return resolve(DEFAULT_IMG);
	                const u = urls[i++];
	                img.onload = () => resolve(u);
	                img.onerror = next;
	                img.src = u;
	            };
	            next();
	        });
	    }
	    function sortKey(stint, bySlug){
	        const p = bySlug[stint.slug] || {};
	        return (p.sort_key || p.display_name || stint.slug || '').toLowerCase();
	    }
	    function card(stint, person, years){
	        const slug     = stint.slug;
	        const rawName  = (person && (person.display_name || person.name)) || slug;
	        const name     = formatName(rawName);
	        const href     = '/postdocs/profile.html?slug=' + encodeURIComponent(slug);
	        // Focus text: prefer stint.focus, fall back to roster focus if present
	        const focusText =
	            (stint.focus && String(stint.focus).trim()) ||
	            (person && person.focus && String(person.focus).trim()) ||
	            '';
	        // Email if present in roster or stint
	        const emailText =
	            (person && person.email) ||
	            stint.email ||
	            '';
	        const emailNode = emailText
	            ? el('p', { class: 'postdoc-email' }, [
	                el('a', { href: `mailto:${emailText}` }, [
	                    el('span', {
	                        class: 'glyphicon glyphicon-envelope',
	                        'aria-hidden': 'true'
	                    }),
	                    '\u00A0',
	                    emailText
	                ])
	            ])
	            : null;
	        const node = el('div', {class:'postdoc-card-wrap'}, [
	            el('a', {class:'postdoc-card', href}, [
	                el('img', {
	                    class:'postdoc-photo',
	                    src:DEFAULT_IMG,
	                    alt:name,
	                    loading:'lazy'
	                }),
	                el('div', {class:'postdoc-meta'}, [
	                    // Name – styled via cards.css (.postdoc-name uses small caps)
	                    el('h4', {class:'postdoc-name'}, name),
	                    stint.university
	                        ? el('span', {class:'postdoc-univ'}, stint.university)
	                        : null,
	                    stint.role
	                        ? el('span', {class:'postdoc-role'}, stint.role)
	                        : null,
	                    (stint.division || stint.group_code)
	                        ? el('span', {class:'postdoc-group'},
	                            `${stint.division || ''}${(stint.division && stint.group_code)?', ':''}${stint.group_code || ''}`)
	                        : null,
	                    focusText
	                        ? el('p', {class:'postdoc-focus'}, focusText)
	                        : null,
	                    emailNode
	                ])
	            ])
	        ]);
	        const imgEl = node.querySelector('img.postdoc-photo');
	        firstReachable(imageCandidates(slug, person, stint, years)).then(u => { imgEl.src = u; });
	        return node;
	    }
	    async function main(){
		    const years = (await fetchYAML(`${DATA_BASE}/postdocs/postdoc_years.yml`)).years || [];
		    if (!years.length) return;

		    const currentYear = years[0];
		    const yearSpan = qs('#home-postdocs-year');
		    if (yearSpan) yearSpan.textContent = currentYear;

		    const roster = await fetchYAML(`${DATA_BASE}/postdocs/postdoc_roster.yml`);
		    const bySlug = Object.fromEntries((Array.isArray(roster)?roster:[]).map(p => [p.slug, p]));
		    const stints = await fetchYAML(`${DATA_BASE}/postdocs/postdocs_${currentYear}.yml`) || [];
		    const grid   = qs('#home-postdocs-grid');
		    if (!grid) return;

		    const sorted = (Array.isArray(stints)?stints:[])
		        .slice()
		        .sort((a,b)=> sortKey(a,bySlug).localeCompare(sortKey(b,bySlug)));

		    // Spotlight: one row, random subset
		    const MAX_HOME_POSTDOCS = 4;
		    const shuffled = sorted.slice();
		    for (let i = shuffled.length - 1; i > 0; i--) {
		        const j = Math.floor(Math.random() * (i + 1));
		        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
		    }
		
		    shuffled
		        .slice(0, MAX_HOME_POSTDOCS)
		        .forEach(stint => grid.appendChild(card(stint, bySlug[stint.slug], years)));
		}
	    main().catch(err => console.error(err));
	})();
	</script>
	<script>
	(function () {
	    const DATA_BASE    = '/data';
	    const DEFAULT_IMG  = '/students/images/cta-default.jpg';
	    const IMG_ROSTER   = '/students/images/roster';
	    const IMG_YEARS    = '/students/images';

	    function qs(sel){
	        return document.querySelector(sel);
	    }
	    function el(tag, attrs={}, children=[]) {
	        const n = document.createElement(tag);
	        Object.entries(attrs).forEach(([k,v]) => v!=null && n.setAttribute(k, v));
	        (Array.isArray(children)?children:[children]).forEach(c=>{
	            if(c==null) return;
	            n.appendChild(typeof c==='string'?document.createTextNode(c):c);
	        });
	        return n;
	    }
	    async function fetchYAML(path){
	        const res = await fetch(path, {cache:'no-store'});
	        const txt = await res.text();
	        return jsyaml.load(txt) || {};
	    }
	    function formatName(raw) {
	        if (!raw) return '';
	        const trimmed = String(raw).trim();
	        if (trimmed === trimmed.toUpperCase()) {
	            return trimmed
	                .toLowerCase()
	                .replace(/\b\w/g, c => c.toUpperCase());
	        }
	        return trimmed;
	    }
	    function imageCandidates(slug, person, stint, yearsDesc){
	        const exts = ['.jpg','.png','.jpeg'];
	        const out = [];
	        if (stint && stint.card_image) out.push(stint.card_image);
	        if (stint && stint.photo_override) out.push(stint.photo_override);
	        for (const ext of exts) out.push(`${IMG_ROSTER}/${slug}${ext}`);
	        if (person && person.photo) out.push(person.photo);
	        for (const ext of exts) out.push(`/students/images/${slug}${ext}`);
	        for (const y of yearsDesc) for (const ext of exts)
	            out.push(`${IMG_YEARS}/${y}-images/${slug}${ext}`);
	        out.push(DEFAULT_IMG);
	        return Array.from(new Set(out.filter(Boolean)));
	    }
	    function firstReachable(urls){
	        return new Promise(resolve=>{
	            let i = 0, img = new Image();
	            const next = () => {
	                if (i >= urls.length) return resolve(DEFAULT_IMG);
	                const u = urls[i++];
	                img.onload = () => resolve(u);
	                img.onerror = next;
	                img.src = u;
	            };
	            next();
	        });
	    }
	    function sortKey(stint, bySlug){
	        const p = bySlug[stint.slug] || {};
	        return (p.sort_key || p.display_name || stint.slug || '').toLowerCase();
	    }

	    function card(stint, person, years){
	        const slug     = stint.slug;
	        const rawName  = (person && (person.display_name || person.name)) || slug;
	        const name     = formatName(rawName);
	        const href     = '/students/profile.html?slug=' + encodeURIComponent(slug);

	        const focusText =
	            (stint.focus && String(stint.focus).trim()) ||
	            (person && person.focus && String(person.focus).trim()) ||
	            '';

	        const emailText =
	            (person && person.email) ||
	            stint.email ||
	            '';

	        const emailNode = emailText
	            ? el('p', { class: 'student-email' }, [
	                el('a', { href: `mailto:${emailText}` }, [
	                    el('span', {
	                        class: 'glyphicon glyphicon-envelope',
	                        'aria-hidden': 'true'
	                    }),
	                    '\u00A0',
	                    emailText
	                ])
	            ])
	            : null;

	        const node = el('div', {class:'student-card-wrap'}, [
	            el('a', {class:'student-card', href}, [
	                el('img', {
	                    class:'student-photo',
	                    src:DEFAULT_IMG,
	                    alt:name,
	                    loading:'lazy'
	                }),
	                el('div', {class:'student-meta'}, [
	                    el('h4', {class:'student-name'}, name),
	                    stint.university
	                        ? el('span', {class:'student-univ'}, stint.university)
	                        : null,
	                    stint.role
	                        ? el('span', {class:'student-role'}, stint.role)
	                        : null,
	                    (stint.division || stint.group_code)
	                        ? el('span', {class:'student-group'},
	                            `${stint.division || ''}${(stint.division && stint.group_code)?', ':''}${stint.group_code || ''}`)
	                        : null,
	                    focusText
	                        ? el('p', {class:'student-focus'}, focusText)
	                        : null,
	                    emailNode
	                ])
	            ])
	        ]);

	        const imgEl = node.querySelector('img.student-photo');
	        firstReachable(imageCandidates(slug, person, stint, years)).then(u => { imgEl.src = u; });
	        return node;
	    }

	    async function main(){
	        const grid = qs('#home-students-grid');
	        if (!grid) return;

	        const years = (await fetchYAML(`${DATA_BASE}/students/student_years.yml`)).years || [];
	        if (!years.length) return;

	        const currentYear = years[0];
	        const roster      = await fetchYAML(`${DATA_BASE}/students/student_roster.yml`);
	        const bySlug      = Object.fromEntries((Array.isArray(roster)?roster:[]).map(p => [p.slug, p]));
	        const stints      = await fetchYAML(`${DATA_BASE}/students/students_${currentYear}.yml`) || [];

	        const sorted = (Array.isArray(stints)?stints:[])
	            .slice()
	            .sort((a,b)=> sortKey(a,bySlug).localeCompare(sortKey(b,bySlug)));

	        // Spotlight: one row, random subset
	        const MAX_HOME_STUDENTS = 4;
	        const shuffled = sorted.slice();
	        for (let i = shuffled.length - 1; i > 0; i--) {
	            const j = Math.floor(Math.random() * (i + 1));
	            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
	        }

	        shuffled
	            .slice(0, MAX_HOME_STUDENTS)
	            .forEach(stint => grid.appendChild(card(stint, bySlug[stint.slug], years)));
	    }

	    main().catch(err => console.error('Student spotlight error:', err));
	})();
	</script>
	<script>
	$(function () {
	    $("#cta-contact").load("/partials/contact.html");
	});
	</script>
	<script>
	$(function () {
	    $("#cta-footer").load("/partials/footer.html");
	});
	</script>
</body>
<!-- //Body -->

</html>
